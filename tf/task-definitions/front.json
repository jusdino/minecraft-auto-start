[
  {
    "name": "front",
    "image": "jusdino/minecraft-auto-start-front:latest",
    "memory": 256,
    "essential": true,
    "links": ["db:db"],
    "environment": [
      {
        "name": "APP_NAME",
        "value": "launcher"
      },
      {
        "name": "FLASK_DEBUG",
        "value": "1"
      },
      {
        "name": "PYTHONUNBUFFERED",
        "value": "0"
      },
      {
        "name": "APP_SETTINGS",
        "value": "launcher.config.ProductionConfig"
      },
      {
        "name": "DATABASE_URL",
        "value": "postgres://postgres:postgres@db:5432/users_dev"
      },
      {
        "name": "DATABASE_TEST_URL",
        "value": "postgres://postgres:postgres@db:5432/users_test"
      }
    ],
    "portMappings": [
      {
        "containerPort": 5000,
        "hostPort": 80
      }
    ],
    "dependsOn": [
      {
        "condition": "START",
        "containerName": "db"
      }
    ]
  },
  {
    "name": "db",
    "hostname": "db",
    "image": "jusdino/minecraft-auto-start-db:latest",
    "memory": 512,
    "essential": true,
    "environment": [
      {
        "name": "POSTGRES_USER",
        "value": "postgres"
      },
      {
        "name": "POSTGRES_PASSWORD",
        "value": "postgres"
      },
      {
        "name": "PGDATA",
        "value": "/var/lib/postgresql/data/pgdata"
      }
    ],
    "mountPoints": [
      {
        "containerPath": "/var/lib/postgresql/data/pgdata",
        "sourceVolume": "db-data"
      }
    ]
  }
]
